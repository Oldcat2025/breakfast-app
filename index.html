<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>æ™¨æ›¦é£Ÿå…‰ - å¥å®çš„å…ƒæ°”æ—©é¤</title>
    <style>
        /* --- åŸºç¡€è®¾ç½® --- */
        :root {
            --bg-deep: #051F20;
            --bg-main: #0B2B26;
            --card-dark: #163832;
            --card-mid: #235347;
            --accent-green: #8EB69B;
            --text-light: #DAF1DE;
            --text-white: #FFFFFF;
            --shadow: 0 8px 20px rgba(0,0,0,0.4);
        }

        body {
            font-family: 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(180deg, var(--bg-deep) 0%, var(--bg-main) 100%);
            color: var(--text-light);
            margin: 0;
            padding: 0;
            min-height: 100vh;
            padding-bottom: 80px; /* åº•éƒ¨ç•™ç™½ */
        }

        /* --- é¡¶éƒ¨èŠ‚æ°”æ  --- */
        .header {
            padding: 30px 20px 10px;
            text-align: center;
        }
        .date-badge {
            background: rgba(255,255,255,0.1);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            display: inline-block;
            margin-bottom: 10px;
        }
        .greeting {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--text-white);
            margin-bottom: 5px;
        }
        .solar-term {
            color: var(--accent-green);
            font-size: 1rem;
        }

        /* --- æ¨èé£Ÿè°±å¡ç‰‡ --- */
        .section-title {
            padding: 20px 20px 10px;
            font-size: 1.1rem;
            font-weight: bold;
            display: flex;
            align-items: center;
        }
        .section-title::before {
            content: '';
            display: block;
            width: 4px;
            height: 16px;
            background: var(--accent-green);
            margin-right: 10px;
            border-radius: 2px;
        }

        .recipe-scroll {
            display: flex;
            overflow-x: auto;
            padding: 0 20px 20px;
            gap: 15px;
            scrollbar-width: none; /* éšè—æ»šåŠ¨æ¡ */
        }
        .recipe-scroll::-webkit-scrollbar { display: none; }

        .recipe-card {
            min-width: 260px;
            background: var(--card-mid);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: var(--shadow);
            position: relative;
            flex-shrink: 0;
            transition: transform 0.2s;
        }
        .recipe-card:active {
            transform: scale(0.98);
        }
        .recipe-img {
            height: 150px;
            width: 100%;
            object-fit: cover;
            background-color: #ccc;
        }
        .recipe-info {
            padding: 15px;
        }
        .recipe-name {
            font-size: 1.1rem;
            font-weight: bold;
            color: var(--text-white);
            margin-bottom: 5px;
        }
        .recipe-tags {
            display: flex;
            gap: 5px;
            margin-bottom: 10px;
        }
        .tag {
            font-size: 0.7rem;
            padding: 2px 8px;
            border-radius: 4px;
            background: rgba(0,0,0,0.2);
            color: var(--accent-green);
        }
        .time-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: var(--accent-green);
            color: var(--bg-deep);
            padding: 4px 10px;
            border-radius: 12px;
            font-weight: bold;
            font-size: 0.8rem;
        }

        /* --- æ’è¡Œæ¦œéƒ¨åˆ† --- */
        .leaderboard {
            margin: 20px;
            background: var(--card-dark);
            border-radius: 24px;
            padding: 20px;
            box-shadow: var(--shadow);
        }
        .rank-item {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            background: rgba(255,255,255,0.05);
            padding: 10px;
            border-radius: 12px;
        }
        .rank-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--accent-green);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: var(--bg-deep);
            margin-right: 10px;
        }
        .rank-info {
            flex: 1;
        }
        .rank-name {
            font-weight: bold;
            color: var(--text-white);
        }
        .rank-score {
            font-size: 0.8rem;
            color: var(--accent-green);
        }
        .upload-btn {
            width: 100%;
            padding: 15px;
            background: var(--accent-green);
            color: var(--bg-deep);
            border: none;
            border-radius: 16px;
            font-size: 1rem;
            font-weight: bold;
            margin-top: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        /* --- è¯¦æƒ…å¼¹çª— (æ‰‹è´¦é£æ ¼) --- */
        .modal {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            overflow-y: auto;
            backdrop-filter: blur(5px);
        }
        .modal-content {
            background: #F4F1EA; /* çº¸å¼ é¢œè‰² */
            color: #333;
            margin: 20px;
            border-radius: 20px; /* ä¸è§„åˆ™åœ†è§’ */
            overflow: hidden;
            position: relative;
            min-height: 80vh;
            padding-bottom: 20px;
        }
        .modal-header-img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }
        .modal-body {
            padding: 20px;
            font-family: 'Comic Sans MS', cursive, sans-serif; /* æ¨¡æ‹Ÿæ‰‹å†™ */
        }
        .notebook-line {
            border-bottom: 1px dashed #ccc;
            padding: 10px 0;
            line-height: 1.6;
        }
        .close-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(0,0,0,0.5);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            text-align: center;
            line-height: 30px;
            cursor: pointer;
            z-index: 1001;
        }
        .step-img-box {
            background: #fff;
            padding: 5px;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.1);
            transform: rotate(-2deg); /* æ‹ç«‹å¾—æ•ˆæœ */
            margin: 10px 0;
            width: 80%;
        }
        .step-img-box img {
            width: 100%;
            border-radius: 4px;
        }

    </style>
</head>
<body>

    <div class="header">
        <div class="date-badge" id="currentDate">2025.12.10</div>
        <div class="greeting">æ—©å®‰ï¼Œå¥å®åŒå­¦ï¼</div>
        <div class="solar-term">ä»Šæ—¥æ¨èï¼šç¬¦åˆ [å¤§é›ª] èŠ‚æ°” â€¢ è¡¥è‚¾å£®éª¨</div>
    </div>

    <div class="section-title">ä»Šæ—¥ 10åˆ†é’Ÿ ä¼˜é€‰</div>
    <div class="recipe-scroll">
        <div class="recipe-card" onclick="openRecipe(0)">
            <div class="time-badge">10 min</div>
            <img src="https://images.unsplash.com/photo-1517601278517-456741619dad?q=80&w=600" class="recipe-img" alt="ç‡•éº¦ç²¥">
            <div class="recipe-info">
                <div class="recipe-name">åšæœç‰›å¥¶ç‡•éº¦ç²¥</div>
                <div class="recipe-tags">
                    <span class="tag">è¡¥é’™</span>
                    <span class="tag">å¥è„‘</span>
                </div>
            </div>
        </div>
        <div class="recipe-card" onclick="openRecipe(1)">
            <div class="time-badge">8 min</div>
            <img src="https://images.unsplash.com/photo-1525351484163-7529414395d8?q=80&w=600" class="recipe-img" alt="å…¨éº¦ä¸‰æ˜æ²»">
            <div class="recipe-info">
                <div class="recipe-name">æ»‘è›‹ç‰›è‚‰å…¨éº¦å·</div>
                <div class="recipe-tags">
                    <span class="tag">é«˜è›‹ç™½</span>
                    <span class="tag">é•¿é«˜</span>
                </div>
            </div>
        </div>
        <div class="recipe-card" onclick="openRecipe(2)">
            <div class="time-badge">10 min</div>
            <img src="https://images.unsplash.com/photo-1627308595229-7830a5c91f9f?q=80&w=600" class="recipe-img" alt="è”¬èœé¥¼">
            <div class="recipe-info">
                <div class="recipe-name">è™¾ä»è¥¿å…°èŠ±çƒ˜è›‹</div>
                <div class="recipe-tags">
                    <span class="tag">æŠ¤çœ¼</span>
                    <span class="tag">ç»´C</span>
                </div>
            </div>
        </div>
    </div>

    <div class="section-title">ä»Šæ—¥å®¶åº­å¨ç¥æ¦œ</div>
    <div class="leaderboard">
        <div id="rankingList">
            </div>
        
        <input type="file" id="uploadInput" accept="image/*" style="display: none;" onchange="handleUpload(this)">
        <button class="upload-btn" onclick="document.getElementById('uploadInput').click()">
            ğŸ“· æˆ‘åšå¥½äº†ï¼ä¸Šä¼ æ‰“å¡
        </button>
    </div>

    <div id="recipeModal" class="modal">
        <div class="close-btn" onclick="closeModal()">Ã—</div>
        <div class="modal-content" id="modalContent">
            </div>
    </div>

    <script>
        // --- æ•°æ®å‡†å¤‡ (æ¨¡æ‹Ÿæ•°æ®åº“) ---
        const recipes = [
            {
                title: "åšæœç‰›å¥¶ç‡•éº¦ç²¥",
                img: "https://images.unsplash.com/photo-1517601278517-456741619dad?q=80&w=600",
                desc: "ç‡•éº¦å¯Œå«è†³é£Ÿçº¤ç»´ï¼Œç‰›å¥¶æä¾›é’™è´¨ï¼Œåšæœè¡¥è„‘ï¼Œéå¸¸é€‚åˆåˆäºŒå­¦ç”Ÿæ—©æ™¨å”¤é†’å¤§è„‘ã€‚",
                steps: [
                    {text: "1. é”…ä¸­å€’å…¥250mlçº¯ç‰›å¥¶ï¼Œå°ç«ç…®è‡³å¾®çƒ­ï¼ˆè¾¹ç¼˜å†’æ³¡ï¼‰ã€‚", note: "âš ï¸ ä¸è¦ç…®æ²¸ï¼Œä¼šç ´åè¥å…»ï¼"},
                    {text: "2. å€’å…¥å³é£Ÿç‡•éº¦ç‰‡ï¼Œæ…æ‹Œå‡åŒ€ï¼Œå…³ç«ç„–2åˆ†é’Ÿã€‚", note: "ğŸ’¡ å–œæ¬¢è½¯ç³¯å£æ„Ÿå¯ä»¥å¤šç…®1åˆ†é’Ÿã€‚"},
                    {text: "3. æ’’ä¸Šä¸€æŠŠæ¯æ—¥åšæœï¼ˆæ ¸æ¡ƒã€å·´æ—¦æœ¨ï¼‰å’Œè“è“å³å¯ã€‚", note: "ğŸ“¸ æ‘†ç›˜æ—¶æŠŠåšæœæ”¾ä¸­é—´ï¼Œå¥½çœ‹åˆæœ‰é£Ÿæ¬²ï¼"}
                ]
            },
            {
                title: "æ»‘è›‹ç‰›è‚‰å…¨éº¦å·",
                img: "https://images.unsplash.com/photo-1525351484163-7529414395d8?q=80&w=600",
                desc: "ç‰›è‚‰å«æœ‰ä¸°å¯Œçš„é“å’Œé”Œï¼ŒåŠ©åŠ›éª¨éª¼å‘è‚²ã€‚å…¨éº¦é¥¼çš®æä¾›é•¿æ•ˆèƒ½é‡ã€‚",
                steps: [
                    {text: "1. å¹³åº•é”…åˆ·æ²¹ï¼Œå°†å…¨éº¦é¥¼çš®ä¸¤é¢åŠ çƒ­å¤‡ç”¨ã€‚", note: ""},
                    {text: "2. é¸¡è›‹æ‰“æ•£ï¼ŒåŠ å…¥å°‘è®¸ç›å’Œç‰›å¥¶ï¼Œç‚’æˆæ»‘è›‹ã€‚", note: "ğŸ”¥ å¤§ç«å¿«ç‚’ï¼Œä¿æŒå«©æ»‘ã€‚"},
                    {text: "3. åˆ©ç”¨ä½™æ¸©åŠ çƒ­ä¸€ä¸‹ç†Ÿç‰›è‚‰ç‰‡ï¼ˆæˆ–åˆé¤è‚‰ï¼‰ã€‚", note: ""},
                    {text: "4. é¥¼çš®é“ºåº•ï¼Œæ”¾ç”Ÿèœã€æ»‘è›‹ã€ç‰›è‚‰ï¼Œå·èµ·æ¥åˆ‡å¼€ã€‚", note: "ğŸ’¡ ç”¨ä¿é²œè†œåŒ…ç´§å†åˆ‡ï¼Œåˆ‡é¢æ›´æ•´é½ï¼"}
                ]
            },
            {
                title: "è™¾ä»è¥¿å…°èŠ±çƒ˜è›‹",
                img: "https://images.unsplash.com/photo-1627308595229-7830a5c91f9f?q=80&w=600",
                desc: "è‰²å½©ä¸°å¯Œï¼Œå¼•èµ·é£Ÿæ¬²ã€‚è¥¿å…°èŠ±æ˜¯è”¬èœä¹‹ç‹ï¼Œæ­é…è™¾ä»ï¼Œä½è„‚é«˜è›‹ç™½ã€‚",
                steps: [
                    {text: "1. è¥¿å…°èŠ±åˆ‡å°æœµï¼Œæ²¸æ°´ç„¯æ°´1åˆ†é’Ÿæå‡ºã€‚", note: "âš ï¸ æ°´é‡ŒåŠ ç‚¹æ²¹ç›ï¼Œä¿æŒç¿ ç»¿ã€‚"},
                    {text: "2. é¸¡è›‹2ä¸ªæ‰“æ•£ï¼ŒåŠ å…¥è™¾ä»å’Œç„¯å¥½çš„è¥¿å…°èŠ±ã€‚", note: ""},
                    {text: "3. å¹³åº•é”…åˆ·æ²¹ï¼Œå€’å…¥è›‹æ¶²æ··åˆç‰©ï¼Œå°ç«çƒ˜è‡³å‡å›ºã€‚", note: "ğŸ’¡ ç›–ä¸Šé”…ç›–ç„–2åˆ†é’Ÿç†Ÿå¾—æ›´å¿«ã€‚"},
                    {text: "4. æ’’ä¸Šé»‘èƒ¡æ¤’ç²‰å³å¯å‡ºé”…ã€‚", note: ""}
                ]
            }
        ];

        // --- åˆå§‹åŒ–æ—¥æœŸ ---
        const date = new Date();
        document.getElementById('currentDate').innerText = `${date.getFullYear()}.${date.getMonth()+1}.${date.getDate()} | å†œå†åä¸€æœˆ`;

        // --- äº¤äº’é€»è¾‘ ---
        function openRecipe(index) {
            const r = recipes[index];
            let stepsHtml = '';
            r.steps.forEach(step => {
                stepsHtml += `
                    <div class="notebook-line">
                        <strong>${step.text}</strong><br>
                        ${step.note ? `<span style="color:#d35400; font-size:0.9rem;">${step.note}</span>` : ''}
                    </div>
                `;
            });

            // æ¨¡æ‹Ÿå›¾æ–‡æ··æ’ï¼Œéšæœºæ’å…¥ä¸€å¼ æ­¥éª¤å›¾
            stepsHtml += `
                <div class="step-img-box" style="margin: 20px auto;">
                    <img src="${r.img}" alt="å®æ“å›¾">
                    <div style="text-align:center; font-size:0.8rem; color:#666;">ï¼ˆåˆ¶ä½œè¿‡ç¨‹è®°å½•ï¼‰</div>
                </div>
            `;

            const html = `
                <img src="${r.img}" class="modal-header-img">
                <div class="modal-body">
                    <h2 style="color:#235347;">${r.title}</h2>
                    <p style="background:rgba(142, 182, 155, 0.2); padding:10px; border-radius:8px;">${r.desc}</p>
                    <h3 style="border-bottom:2px solid #235347; display:inline-block;">æ‰‹è´¦è®°å½• Â· åšæ³•</h3>
                    ${stepsHtml}
                </div>
            `;
            document.getElementById('modalContent').innerHTML = html;
            document.getElementById('recipeModal').style.display = 'block';
        }

        function closeModal() {
            document.getElementById('recipeModal').style.display = 'none';
        }

        // --- æ’è¡Œæ¦œé€»è¾‘ (æ¨¡æ‹Ÿ) ---
        let users = [
            { name: "å¦ˆå¦ˆ", score: 5, role: "chef" },
            { name: "çˆ¸çˆ¸", score: 2, role: "chef" },
            { name: "å¥å®", score: 3, role: "kid" }
        ];

        function renderRank() {
            // æ’åº
            users.sort((a, b) => b.score - a.score);
            let html = '';
            users.forEach((u, index) => {
                let medal = index === 0 ? 'ğŸ‘‘' : (index+1);
                html += `
                    <div class="rank-item">
                        <div class="rank-avatar">${u.name[0]}</div>
                        <div class="rank-info">
                            <div class="rank-name">${u.name} ${index===0 ? 'ğŸ‘‘' : ''}</div>
                            <div class="rank-score">æœ¬å‘¨æ‰“å¡: ${u.score} æ¬¡</div>
                        </div>
                    </div>
                `;
            });
            document.getElementById('rankingList').innerHTML = html;
        }

        function handleUpload(input) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    // æ¨¡æ‹Ÿä¸Šä¼ æˆåŠŸï¼Œéšæœºç»™ä¸€ä¸ªè§’è‰²åŠ åˆ† (æ¼”ç¤ºç”¨ï¼Œå‡è®¾æ˜¯å½“å‰æ“ä½œè€…)
                    alert("âœ… æ‰“å¡æˆåŠŸï¼è¿™é“èœçœ‹èµ·æ¥å¤ªæ£’äº†ï¼ç§¯åˆ†+1");
                    
                    // è¿™é‡Œç®€å•æ¨¡æ‹Ÿè®©"å¥å®"æˆ–è€…é€‰æ‹©ä¸€ä¸ªè§’è‰²åŠ åˆ†ï¼Œä¸ºäº†æ¼”ç¤ºæ–¹ä¾¿ï¼Œæˆ‘ä»¬è®©"å¦ˆå¦ˆ"åŠ åˆ†
                    users[0].score += 1; 
                    renderRank();
                }
                reader.readAsDataURL(input.files[0]);
            }
        }

        // å¯åŠ¨
        renderRank();

    </script>
</body>
</html>